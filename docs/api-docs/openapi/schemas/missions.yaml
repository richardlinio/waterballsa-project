MissionDetail:
  type: object
  required:
    - id
    - chapterId
    - journeyId
    - type
    - title
    - description
    - accessLevel
    - createdAt
    - reward
    - resource
  properties:
    id:
      type: integer
      description: 任務 ID
      example: 1
    chapterId:
      type: integer
      description: 此任務所屬的章節 ID
      example: 8
    journeyId:
      type: integer
      description: 旅程 ID（從章節衍生）
      example: 1
    type:
      type: string
      enum:
        - VIDEO
        - ARTICLE
        - QUESTIONNAIRE
      description: 任務類型
      example: 'VIDEO'
    title:
      type: string
      description: 任務標題
      example: '課程介紹：這門課手把手帶你成為架構設計的高手'
    description:
      type: string
      description: 任務的詳細描述
      example: '思維升級：Christopher Alexander 模式六大要素及模式語言'
    accessLevel:
      type: string
      enum:
        - PUBLIC
        - AUTHENTICATED
        - PURCHASED
      description: |
        任務存取層級：
        - PUBLIC: 無需驗證即可檢視
        - AUTHENTICATED: 需要登入才能檢視
        - PURCHASED: 需要購買旅程才能檢視
      example: 'PUBLIC'
    createdAt:
      type: integer
      format: int64
      description: 建立時間戳記（毫秒）
      example: 1733294001561
    videoLength:
      type: string
      description: 影片時長，格式為 MM:SS（僅限 VIDEO 類型，從內容衍生）
      example: '04:16'
    reward:
      $ref: '#/MissionReward'
    resource:
      type: array
      description: 任務資源陣列（可包含多個項目）
      items:
        $ref: '#/MissionResource'

MissionReward:
  type: object
  required:
    - exp
  properties:
    exp:
      type: integer
      description: 經驗值獎勵
      example: 100

MissionResource:
  type: object
  required:
    - type
    - id
  properties:
    id:
      type: integer
      description: 資源項目 ID
      example: 0
    type:
      type: string
      enum:
        - video
        - article
        - form
      description: 資源類型（小寫）
      example: 'video'
    resourceUrl:
      type: string
      format: uri
      description: 資源 URL（選填，影片/外部內容必填）
      example: 'https://cdn.waterballsa.tw/software-design-pattern/videos/c8m1-0/c8m1-0.m3u8'
    resourceContent:
      type: string
      description: 資源內容（選填，用於內嵌文字內容）
      example: 'Article content or form HTML here'
    durationSeconds:
      type: integer
      description: 影片時長（秒）（僅限 VIDEO 類型）
      example: 256

UpdateProgressRequest:
  type: object
  required:
    - watchPositionSeconds
  properties:
    watchPositionSeconds:
      type: integer
      description: 目前觀看位置（秒）（用於 VIDEO 任務）
      example: 150
      minimum: 0

DeliverResponse:
  type: object
  required:
    - message
    - experienceGained
    - totalExperience
    - currentLevel
  properties:
    message:
      type: string
      description: 成功訊息
      example: 'Mission delivered successfully'
    experienceGained:
      type: integer
      description: 此次交付獲得的經驗值
      example: 100
    totalExperience:
      type: integer
      description: 交付後使用者的總經驗值
      example: 1500
    currentLevel:
      type: integer
      description: 交付後使用者的目前等級
      example: 4

UserMissionProgressResponse:
  type: object
  required:
    - missionId
    - status
    - watchPositionSeconds
  properties:
    missionId:
      type: integer
      description: 任務 ID
      example: 1
    status:
      type: string
      enum:
        - UNCOMPLETED
        - COMPLETED
        - DELIVERED
      description: 任務狀態
      example: COMPLETED
    watchPositionSeconds:
      type: integer
      description: 目前觀看位置（秒）（用於 VIDEO 任務）
      example: 256
